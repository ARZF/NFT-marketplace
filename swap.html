<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>تبدیل توکن - Relay</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.11.1/dist/ethers.umd.min.js"></script>
  <link rel="stylesheet" href="public/css/globals.css" />
  <link rel="stylesheet" href="public/css/index.css" />
</head>

<body class="bg-slate-950 text-white min-h-screen">
  <!-- Sidebar -->
  <nav class="os-sidebar" aria-label="ناوبری اصلی">
    <a href="/" class="os-item" id="navHome">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M3 11.5L12 4l9 7.5" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M5 21h14a1 1 0 0 0 1-1v-9.5" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      <span class="os-label font-medium">خانه</span>
    </a>

    <a href="/mint.html" class="os-item" id="navMint">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      <span class="os-label font-medium">ضرب</span>
    </a>

    <a href="/mint.html" class="os-item" id="navMint">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      <span class="os-label font-medium">ضرب</span>
    </a>

    <a href="/swap.html" class="os-item active" id="navSwap">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M8 3L4 7l4 4M4 7h16M16 21l4-4-4-4M20 17H4" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
      <span class="os-label font-medium">تبدیل</span>
    </a>

    <a href="/explore.html" aria-disabled="true" class="os-item disabled" id="navExplore" tabindex="-1">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M21 10v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h8" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
      <span class="os-label font-medium">کاوش</span>
    </a>

    <a href="/collections.html" class="os-item" id="navCollections">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <rect x="3" y="3" width="7" height="7" stroke-width="1.5" rx="1" />
        <rect x="14" y="3" width="7" height="7" stroke-width="1.5" rx="1" />
        <rect x="14" y="14" width="7" height="7" stroke-width="1.5" rx="1" />
      </svg>
      <span class="os-label font-medium">مجموعه‌ها</span>
    </a>

    <a href="/activity.html" class="os-item" id="navActivity">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M3 12h3l3 8 4-16 3 8h4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      <span class="os-label font-medium">فعالیت‌ها</span>
    </a>

    <a href="/about-us.html" class="os-item" id="navAbout">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <circle cx="12" cy="8" r="2.2" stroke-width="1.2" />
        <path d="M12 11.5c-3 0-5.5 1.7-5.5 3.8V18h11v-2.7c0-2.1-2.5-3.8-5.5-3.8z" stroke-width="1.2" />
      </svg>
      <span class="os-label font-medium">درباره ما</span>
    </a>

    <a href="/contact-us.html" class="os-item" id="navContact">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M21 8V7a2 2 0 0 0-2-2h-3" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" />
        <rect x="3" y="5" width="14" height="14" rx="2" stroke-width="1.2" />
        <path d="M21 15v2" stroke-width="1.2" stroke-linecap="round" />
      </svg>
      <span class="os-label font-medium">تماس با ما</span>
    </a>

    <a href="#" class="os-item mt-auto" id="navSettings">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82..." stroke-width="0.8" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
      <span class="os-label font-medium">تنظیمات</span>
    </a>
  </nav>

  <!-- Header -->
  <header class="bg-slate-900 border-b border-slate-800">
    <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
      <a href="/index.html">
        <div class="flex items-center gap-4">
          <div
            class="w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-400 to-violet-600 flex items-center justify-center font-bold text-slate-900">
            N
          </div>
          <div>
            <div class="text-lg font-semibold">مارکت NFT</div>
            <div class="text-xs text-slate-400">
              تبدیل توکن با Relay
            </div>
          </div>
        </div>
      </a>

      <div class="flex items-center gap-4">
        <div class="relative">
          <button id="walletButton"
            class="ml-2 px-4 py-2 rounded-md bg-slate-100 text-slate-900 font-semibold hover:bg-white transition">
            اتصال کیف‌پول
          </button>
          <div id="walletMenu"
            class="hidden absolute left-0 mt-2 w-56 bg-slate-800 border border-slate-700 rounded-lg p-2 z-50">
            <button id="disconnectBtn" class="w-full text-left px-3 py-2 rounded text-red-400 hover:bg-slate-700">
              قطع اتصال
            </button>
          </div>
        </div>
        <select id="chainSelect"
          class="px-3 py-2 rounded-md bg-slate-800 border border-slate-700 text-slate-200"></select>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-2xl mx-auto px-6 py-12">
    <h1 class="text-3xl font-bold mb-8 text-center">تبدیل توکن</h1>

    <!-- Toast Container -->
    <div id="toastContainer" class="fixed top-20 left-6 z-50 space-y-2"></div>

    <!-- Swap Card -->
    <div class="bg-slate-900 rounded-2xl border border-slate-800 p-6 shadow-xl">
      <!-- From Token -->
      <div class="bg-slate-800 rounded-xl p-4 mb-4">
        <div class="flex items-center justify-between mb-2">
          <label class="text-sm text-slate-400">از</label>
          <div class="text-xs text-slate-500">
            موجودی: <span id="fromBalance" class="text-slate-300">-</span>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <div class="flex-1">
            <input type="number" id="fromAmount" placeholder="0.0" step="any" min="0"
              class="w-full bg-transparent text-2xl font-semibold text-white outline-none placeholder:text-slate-600" />
          </div>
          <div class="flex items-center gap-2">
            <button id="fromTokenSelect"
              class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold flex items-center gap-2 transition">
              <span id="fromTokenSymbol">ETH</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none"
                stroke="currentColor">
                <path d="M6 9l6 6 6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </button>
            <button id="maxFromBtn"
              class="px-3 py-1 text-xs bg-emerald-500 hover:bg-emerald-400 rounded-lg font-semibold">
              حداکثر
            </button>
          </div>
        </div>
      </div>

      <!-- Swap Button -->
      <div class="flex justify-center my-4">
        <button id="swapTokensBtn"
          class="p-3 bg-slate-800 hover:bg-slate-700 rounded-full border border-slate-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M8 3L4 7l4 4M4 7h16M16 21l4-4-4-4M20 17H4" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
        </button>
      </div>

      <!-- To Token -->
      <div class="bg-slate-800 rounded-xl p-4 mb-4">
        <div class="flex items-center justify-between mb-2">
          <label class="text-sm text-slate-400">به</label>
          <div class="text-xs text-slate-500">
            موجودی: <span id="toBalance" class="text-slate-300">-</span>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <div class="flex-1">
            <input type="number" id="toAmount" placeholder="0.0" step="any" min="0" readonly
              class="w-full bg-transparent text-2xl font-semibold text-white outline-none placeholder:text-slate-600" />
          </div>
          <div class="flex items-center gap-2">
            <button id="toTokenSelect"
              class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold flex items-center gap-2 transition">
              <span id="toTokenSymbol">انتخاب توکن</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none"
                stroke="currentColor">
                <path d="M6 9l6 6 6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Swap Info -->
      <div id="swapInfo" class="hidden bg-slate-800/50 rounded-lg p-4 mb-4 text-sm space-y-2">
        <div class="flex justify-between text-slate-400">
          <span>نرخ تبدیل</span>
          <span id="exchangeRate" class="text-slate-300">-</span>
        </div>
        <div class="flex justify-between text-slate-400">
          <span>حداقل دریافت</span>
          <span id="minReceive" class="text-slate-300">-</span>
        </div>
        <div class="flex justify-between text-slate-400">
          <span>کارمزد</span>
          <span id="swapFee" class="text-slate-300">0.3%</span>
        </div>
      </div>

      <!-- Swap Button -->
      <button id="swapButton"
        class="w-full py-4 bg-emerald-500 hover:bg-emerald-400 disabled:bg-slate-700 disabled:text-slate-500 rounded-xl font-semibold text-lg transition">
        تبدیل
      </button>

      <!-- Status Message -->
      <div id="swapStatus" class="hidden mt-4 p-3 rounded-lg text-sm text-right"></div>
    </div>

    <!-- Token Select Modal -->
    <div id="tokenModal" class="hidden fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4">
      <div
        class="bg-slate-900 rounded-2xl border border-slate-800 max-w-md w-full max-h-[80vh] overflow-hidden flex flex-col">
        <div class="p-4 border-b border-slate-800 flex items-center justify-between">
          <h3 class="text-lg font-semibold">انتخاب توکن</h3>
          <button id="closeTokenModal" class="p-2 hover:bg-slate-800 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none"
              stroke="currentColor">
              <path d="M18 6L6 18M6 6l12 12" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
        <div class="p-4 border-b border-slate-800">
          <input type="text" id="tokenSearch" placeholder="جستجوی توکن یا آدرس..."
            class="w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder:text-slate-500 outline-none focus:border-emerald-500" />
        </div>
        <div class="flex-1 overflow-y-auto p-4">
          <div id="tokenList" class="space-y-2">
            <!-- Tokens will be populated here -->
          </div>
        </div>
      </div>
    </div>
  </main>

  <script src="public/js/config.js"></script>
  <script src="public/js/swap.js" defer></script>
</body>

</html>